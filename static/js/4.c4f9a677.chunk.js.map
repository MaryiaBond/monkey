{"version":3,"sources":["components/Games/CatEatBrad/CatEatBrad.module.css","components/Games/CatEatBrad/CatEatBrad.jsx","components/Games/CatEatBrad/CatEatBradContainer.jsx"],"names":["module","exports","foodPos","gridContainer","absolutePos","h1","close","leftArrow","rightArrow","downArrow","straightArrow","arrows","food","hidden","catEat","feed","nextLevel","CatEatBrad","_ref","currentSize","props","Object","objectWithoutProperties","useEffect","catFood","current","style","styleGrid","setPosX","setPosY","currentLevel","levelClass","useRef","_useState","useState","_useState2","slicedToArray","visible","setVisible","_useState3","_useState4","endAnimation","setEndAnimation","_useState5","_useState6","posX","_useState7","_useState8","posY","finish","x","console","log","goToFinish","e","target","id","setPos","targetDirections","position","brd","brdX","brdY","isBorder","setCurrentSize","turnRight","goAhead","goDown","turnLeft","react_default","a","createElement","className","classes","react_router_dom","to","lib","animationIn","animationInDuration","animationOutDuration","isVisible","onClick","setCurrentLevel","ref","animationOut","CatEatBradContainer","Games_CatEatBrad_CatEatBrad","assign","this","React","Component","connect","state","games"],"mappings":"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","file":"static/js/4.c4f9a677.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"foodPos\":\"CatEatBrad_foodPos__146Ge\",\"gridContainer\":\"CatEatBrad_gridContainer__IAQ6D\",\"absolutePos\":\"CatEatBrad_absolutePos__2LUpY\",\"h1\":\"CatEatBrad_h1__25vfB\",\"close\":\"CatEatBrad_close__1t7RQ\",\"leftArrow\":\"CatEatBrad_leftArrow__1yQRX\",\"rightArrow\":\"CatEatBrad_rightArrow__3qNJ1\",\"downArrow\":\"CatEatBrad_downArrow__1PW6Z\",\"straightArrow\":\"CatEatBrad_straightArrow__3GPhc\",\"arrows\":\"CatEatBrad_arrows__1zF39\",\"food\":\"CatEatBrad_food__2nS5i\",\"hidden\":\"CatEatBrad_hidden__1A-5x\",\"catEat\":\"CatEatBrad_catEat__2DPTO\",\"feed\":\"CatEatBrad_feed__1o9aw\",\"nextLevel\":\"CatEatBrad_nextLevel__3aPlx\"};","import React, {useState, useEffect, useRef} from 'react';\r\nimport classes from '../CatEatBrad/CatEatBrad.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Animated} from \"react-animated-css\";\r\n\r\n\r\nconst CatEatBrad = ({currentSize, ...props}) => {\r\n\r\n\r\n        useEffect(() => {\r\n            catFood.current.style = styleGrid;\r\n        })\r\n        useEffect(() => {\r\n            setPosX(currentSize)\r\n            setPosY(currentSize)\r\n        }, [currentSize])\r\n        let currentLevel = props.currentLevel; //for future realization\r\n        let goToNextLevel = () => {\r\n            setVisible(true)\r\n            setEndAnimation(false)\r\n            props.setCurrentLevel(currentLevel)\r\n        }\r\n        let levelClass = 'levelGrid' + currentLevel;\r\n        let catFood = useRef(null);\r\n        let [visible, setVisible] = useState(true);\r\n        let [endAnimation, setEndAnimation] = useState(false);\r\n        let [posX, setPosX] = useState(currentSize);\r\n        let [posY, setPosY] = useState(currentSize);\r\n        let finish = posX === 1 && posY === 1;\r\n        let isBorder = (setPos) => {\r\n            //current level must have self border . take this from props\r\n            let brdX = (setPos[0] !== currentSize + 1 && setPos[0] !== 0);\r\n            let brdY = (setPos[1] !== currentSize + 1 && setPos[1] !== 0);\r\n            if (brdX && brdY) {\r\n                return true\r\n            }\r\n            else {\r\n                return false\r\n            }\r\n        }\r\n        let styleGrid = 'grid-column: ' + posX + ';' + 'grid-row: ' + posY;\r\n\r\n    useEffect(() => {\r\n        let x;\r\n        x++\r\n        console.log(x)\r\n    }, [posX, posY])\r\n    let goToFinish = (e) => {\r\n        let target = e.target.id;\r\n        let setPos = targetDirections[target].position;\r\n        let brd = isBorder(setPos);\r\n        if(!finish) {\r\n            if(brd) {\r\n                setPosX(setPos[0]) ;\r\n                setPosY(setPos[1]) ;\r\n                catFood.current.style = styleGrid\r\n            }\r\n                    }\r\n        else {\r\n            props.setCurrentSize(currentSize)\r\n            setVisible(false)\r\n            setEndAnimation(true)\r\n        }\r\n    }\r\n    const targetDirections = {\r\n        turnRight: {\r\n            position: [posX + 1, posY]\r\n        },\r\n        goAhead: {\r\n            position: [posX, posY - 1]\r\n        },\r\n        goDown: {\r\n            position: [posX, posY + 1]\r\n        },\r\n        turnLeft: {\r\n            position: [posX - 1, posY]\r\n        }\r\n    }\r\n\r\n\r\n\r\n        return (\r\n            <div className={classes.absolutePos}>\r\n                <NavLink to=\"/games\">\r\n                    <div className={classes.close}>Exit game</div>\r\n                </NavLink>\r\n                <Animated animationIn=\"shake\" animationInDuration={1000}\r\n                          animationOutDuration={1000} isVisible={endAnimation} className={!endAnimation && classes.hidden}>\r\n                    <div className={classes.catEat}>\r\n                        <div onClick={goToNextLevel} className={classes.nextLevel}>Next LEVEL</div>\r\n                    </div>\r\n                </Animated>\r\n                <div className={endAnimation && classes.hidden}>\r\n                <div className={endAnimation && classes.hidden}>\r\n                    <div onClick={goToFinish} id='turnLeft' className={classes.feed}>Накормить</div>\r\n                </div>\r\n                <div className={classes.gridContainer + ' ' + levelClass}>\r\n                    <div ref={catFood} className={classes.foodPos}>\r\n                        <Animated animationIn=\"shake\" animationOut=\"zoomOutDown\" animationInDuration={1000}\r\n                                  animationOutDuration={1000} isVisible={visible}>\r\n                            <div className={classes.food}> </div>\r\n                        </Animated>\r\n                    </div>\r\n\r\n                </div>\r\n                <Animated animationIn=\"lightSpeedIn\" animationOut=\"tada\" animationInDuration={1000}\r\n                          animationOutDuration={1000} isVisible={true}>\r\n                    <div className={classes.arrows}>\r\n                        <div id='turnLeft' onClick={goToFinish} className={classes.leftArrow}> </div>\r\n                        <div id='goAhead' onClick={goToFinish} className={classes.straightArrow}> </div>\r\n                        <div id='turnRight' onClick={goToFinish} className={classes.rightArrow}> </div>\r\n                        <div id='goDown' onClick={goToFinish} className={classes.downArrow}> </div>\r\n                    </div>\r\n                </Animated>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n//create one function for all btns: goToFinish. this function get argument left, top, right or down. We describe this arguments\r\nexport default CatEatBrad;\r\n","import React from 'react';\r\nimport CatEatBrad from './CatEatBrad';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport {setCurrentLevel, setCurrentSize} from '../../../redux/games-reducer'\r\n\r\nclass CatEatBradContainer extends React.Component {\r\n    render () {\r\n        return (\r\n           \r\n                <CatEatBrad  {...this.props} currentLevel={this.props.currentLevel} setCurrentLevel={this.props.setCurrentLevel} setCurrentSize={this.props.setCurrentSize}/>\r\n          \r\n        )\r\n    }\r\n    \r\n}\r\nlet mapStateToProps = (state) => ({\r\n    currentLevel: state.games.currentLevel,\r\n    currentSize: state.games.currentSize\r\n})\r\n\r\nexport default connect(mapStateToProps, {setCurrentLevel, setCurrentSize}) (CatEatBradContainer)\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}